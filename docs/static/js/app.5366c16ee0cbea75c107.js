webpackJsonp([1],{120:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("main",[n("router-view")],1)])},a=[],i={render:r,staticRenderFns:a};e.a=i},31:function(t,e,n){"use strict";var r=n(62),a=n(74),i=n(79);e.a={name:"mainbody",data:function(){return{}},components:{lottery:i.a,cardlist:a.a,countryfilter:r.a}}},32:function(t,e,n){"use strict";var r=n(33),a=n.n(r),i=n(28),o=n.n(i),c=n(13);e.a={data:function(){return{filterText:"",selectCountry:"",noinvoice:0,notableware:0}},computed:o()({},Object(c.c)(["full_list_filter","country_list"]),{options:function(){return{noinvoice:this.noinvoice,notableware:this.notableware}}}),watch:{filterText:function(t){this.setFilterText(t)},selectCountry:function(t){this.setCountryFilter(t)}},methods:o()({},Object(c.b)(["setFilterText","setList","setCountryFilter","reset","removeCard","addCard"]),{doAddCard:function(t){t=a()(t,this.options),this.addCard(t)}}),mounted:function(){this.setList()}}},39:function(t,e,n){"use strict";var r=n(28),a=n.n(r),i=n(75),o=n(13);e.a={computed:a()({},Object(o.c)(["cards"])),components:{card:i.a},methods:a()({},Object(o.b)(["removeCard"]))}},40:function(t,e,n){"use strict";var r=n(28),a=n.n(r),i=n(13);e.a={props:["card"],methods:a()({},Object(i.b)(["removeCard"]))}},41:function(t,e,n){"use strict";var r=n(84);e.a={name:"app",store:r.a}},53:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),a=n(57),i=(n(13),n(82));r.a.config.productionTip=!1,new r.a({el:"#app",router:a.a,template:"<App/>",components:{App:i.a}})},57:function(t,e,n){"use strict";var r=n(18),a=n(58),i=n(59);r.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"mainbody",component:i.a}]})},59:function(t,e,n){"use strict";function r(t){n(60)}var a=n(31),i=n(81),o=n(7),c=r,s=o(a.a,i.a,!1,c,null,null);e.a=s.exports},60:function(t,e){},62:function(t,e,n){"use strict";var r=n(32),a=n(73),i=n(7),o=i(r.a,a.a,!1,null,null,null);e.a=o.exports},73:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],attrs:{type:"text",name:"filter",id:"text-filter",placeholder:"search..."},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectCountry,expression:"selectCountry"}],attrs:{name:"country",id:"country-select"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectCountry=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("地區")]),t._v(" "),t._l(t.country_list,function(e){return n("option",{key:e,domProps:{value:e,textContent:t._s(e)}})})],2),t._v(" "),n("button",{staticClass:"btn",on:{click:t.reset}},[t._v("reset")])]),t._v(" "),n("div",{staticClass:"row"},[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.noinvoice,expression:"noinvoice"}],attrs:{type:"checkbox",name:"noinvoice",id:"noinvoice"},domProps:{checked:Array.isArray(t.noinvoice)?t._i(t.noinvoice,null)>-1:t.noinvoice},on:{change:function(e){var n=t.noinvoice,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.noinvoice=n.concat([null])):i>-1&&(t.noinvoice=n.slice(0,i).concat(n.slice(i+1)))}else t.noinvoice=a}}}),t._v(" "),n("label",{attrs:{for:"noinvoice"}},[t._v("不要明細")])]),t._v(" "),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.notableware,expression:"notableware"}],attrs:{type:"checkbox",name:"notableware",id:"notableware"},domProps:{checked:Array.isArray(t.notableware)?t._i(t.notableware,null)>-1:t.notableware},on:{change:function(e){var n=t.notableware,r=e.target,a=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&(t.notableware=n.concat([null])):i>-1&&(t.notableware=n.slice(0,i).concat(n.slice(i+1)))}else t.notableware=a}}}),t._v(" "),n("label",{attrs:{for:"notableware"}},[t._v("不要餐具")])])]),t._v(" "),n("div",{staticClass:"row"},[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",t._l(t.full_list_filter,function(e){return n("tr",{key:e.sn,on:{click:function(n){t.doAddCard(e)}}},[n("td",{attrs:{scope:"row"},domProps:{textContent:t._s(e.name)}}),t._v(" "),n("td",{attrs:{scope:"row"},domProps:{textContent:t._s(e.code)}}),t._v(" "),n("td",{attrs:{scope:"row"},domProps:{textContent:t._s(e.country)}})])}))])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("name")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("code")]),t._v(" "),n("th",{attrs:{scope:"col"}},[t._v("country")])])])}],i={render:r,staticRenderFns:a};e.a=i},74:function(t,e,n){"use strict";var r=n(39),a=n(78),i=n(7),o=i(r.a,a.a,!1,null,null,null);e.a=o.exports},75:function(t,e,n){"use strict";function r(t){n(76)}var a=n(40),i=n(77),o=n(7),c=r,s=o(a.a,i.a,!1,c,"data-v-05647b9e",null);e.a=s.exports},76:function(t,e){},77:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card",staticStyle:{width:"18rem"}},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title"},[t._v("\n        請用這個愛心碼\n        "),n("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.removeCard(t.card.uuid)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),n("h5",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t.card.shortname))]),t._v(" "),n("h5",{staticClass:"card-subtitle mb-2 text-muted"},[t._v(t._s(t.card.code))]),t._v(" "),n("h6",{directives:[{name:"show",rawName:"v-show",value:t.card.noinvoice,expression:"card.noinvoice"}],staticClass:"card-subtitle"},[t._v("不用明細")]),t._v(" "),n("h6",{directives:[{name:"show",rawName:"v-show",value:t.card.notableware,expression:"card.notableware"}],staticClass:"card-subtitle"},[t._v("不用餐具")]),t._v(" "),n("p",{staticClass:"card-text"},[t._v(t._s(t.card.name))])])])},a=[],i={render:r,staticRenderFns:a};e.a=i},78:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.cards,function(e,r){return n("card",{key:e.uuid,attrs:{card:e},on:{click:function(n){t.removeItem(e.uuid)}}})}))},a=[],i={render:r,staticRenderFns:a};e.a=i},79:function(t,e,n){"use strict";var r=n(80),a=n(7),i=a(null,r.a,!1,null,null,null);e.a=i.exports},80:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},a=[],i={render:r,staticRenderFns:a};e.a=i},81:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("countryfilter",{staticClass:"col-4"}),t._v(" "),n("div",{staticClass:"col-8"},[n("lottery"),t._v(" "),n("cardlist")],1)],1)])},a=[],i={render:r,staticRenderFns:a};e.a=i},82:function(t,e,n){"use strict";function r(t){n(83)}var a=n(41),i=n(120),o=n(7),c=r,s=o(a.a,i.a,!1,c,null,null);e.a=s.exports},83:function(t,e){},84:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(18),a=n(13),i=n(85);r.a.use(a.a);var o=new a.a.Store({modules:{card:i.a}})},85:function(t,e,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}var a=n(86),i=n.n(a),o=n(99),c=n.n(o);e.a={state:{country_list:[],full_list:[],filter_text:"",country_filter:"",cards:[]},mutations:{reset:function(t){t.filter_text="",t.country_filter=""},setFilterText:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.filter_text=e},setCountryFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.country_filter=e},setList:function(t,e){t.full_list=e;var n=new c.a(e.map(function(t){return t.country}));t.country_list=[].concat(i()(n)).filter(function(t){return t.length})},addCard:function(t,e){e.uuid=r(),t.cards.push(e)},removeCard:function(t,e){t.cards=t.cards.filter(function(t){return t.uuid!=e})}},actions:{reset:function(t){t.commit("reset")},setFilterText:function(t,e){t.commit("setFilterText",e)},setCountryFilter:function(t,e){t.commit("setCountryFilter",e)},setList:function(t){fetch("static/data/data.json").then(function(t){return t.json()}).then(function(e){t.commit("setList",e)})},addCard:function(t,e,n){t.commit("addCard",e,n)},removeCard:function(t,e){t.commit("removeCard",e)}},getters:{full_list_filter:function(t){var e=t.full_list;return t.filter_text.length>0&&(e=e.filter(function(e){return e.name.indexOf(t.filter_text)>=0})),t.country_filter.length>0&&(e=e.filter(function(e){return e.country.indexOf(t.country_filter)>=0})),e},country_list:function(t){return t.country_list},cards:function(t){return t.cards}}}}},[53]);
//# sourceMappingURL=app.5366c16ee0cbea75c107.js.map